name: shell_demo_agent
description: Demo agent that runs a shell command and stores the results.

input_schema: null
output_schema: null

serialize:
  enabled: true
  base_dir: "./data/runs"
  per_step: true

entry_step_id: run_shell
end_step_ids:
  - done

steps:
  run_shell:
    kind: tool
    tool_name: shell
    tool_params:
      command:
        - python
        - -c
        - print(1+1)
    save_mapping:
      rc: return_code
      out: stdout
      err: stderr
    validator_agent_name: null
    validator_params: {}
    validator_policy: {}
    transitions:
      - target_step_id: done
        condition:
          type: always

  done:
    kind: terminal
    result:
      rc_var: rc
      out_var: out
      err_var: err
    transitions: []
