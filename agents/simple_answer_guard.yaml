name: simple_answer_guard
title_ua: Перевірка на вимогу інструментів
description_ua: Блокує прямі відповіді, якщо задача потребує файлів чи додаткових
  фактів
kind: atomic
inputs:
- name: task_text
- name: stop_agent_execution
  type: bool
  default: false
locals:
- name: code
  value: "from agentfw.runtime.engine import BlockedExecution\n\ntext = str(task_text\
    \ or \"\").strip().lower()\nif not text:\n    raise BlockedExecution(\n      \
    \  missing_inputs=[\"task_text\"],\n        questions_to_user=[\"Опишіть, будь\
    \ ласка, задачу\"],\n        why_blocked=\"Не отримано змісту запиту\",\n    )\n\
    \nfile_triggers = [\n    \"файл\", \"папк\", \"директор\", \"repo\", \"readme\"\
    , \"код\", \"source\", \"проект\",\n    \"прочитай\", \"відкрий\", \"переглянь\"\
    , \"list files\",\n]\nif any(trigger in text for trigger in file_triggers):\n\
    \    raise BlockedExecution(\n        missing_inputs=[\"необхідний файл або вміст\"\
    ],\n        questions_to_user=[\"Який саме файл потрібно прочитати чи оновити?\"\
    ],\n        why_blocked=\"Завдання вимагає роботи з файлами, спершу треба уточнення\"\
    ,\n    )\n\nresult = \"ok\"\n"
outputs:
- name: result
executor: python
