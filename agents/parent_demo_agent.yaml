name: parent_demo_agent
description: Agent that calls simple_demo_agent as a child via AgentCallTool.

input_schema: null
output_schema: null

serialize:
  enabled: true
  base_dir: "./data/runs"
  per_step: true

entry_step_id: call_child
end_step_ids:
  - done

steps:
  call_child:
    kind: tool
    tool_name: agent_call
    tool_params:
      agent_name: simple_demo_agent
      input_mapping:
        x: x        # parent.x -> child.x
        y: y        # parent.y -> child.y
      output_mapping:
        - sum
        - message
    save_mapping:
      child_sum: sum
      child_message: message
    validator_agent_name: null
    validator_params: {}
    validator_policy: {}
    transitions:
      - target_step_id: done
        condition:
          type: always

  done:
    kind: tool
    tool_name: null
    tool_params: {}
    save_mapping: {}
    validator_agent_name: null
    validator_params: {}
    validator_policy: {}
    transitions: []
